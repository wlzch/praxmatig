
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>Compero: Chrome Extension Untuk Membandingkan Image Secara Bersampingan - Praxmatig</title>
	<meta name="author" content="wil huang">

	
	<meta name="description" content="Compero: Chrome Extension Untuk Membandingkan Image Secara Bersampingan Pada postingan kali ini saya akan membahas bagaimana saya membuat compero, &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="Praxmatig" type="application/atom+xml">
	
	<link rel="canonical" href="http://praxmatig.herokuapp.com/blog/2013/03/01/compero-chrome-extension-untuk-membandingkan-image-secara-bersampingan/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		document.write("<img src='http://www.gravatar.com/avatar/" + MD5("wilzichi92@gmail.com") + "?s=160' alt='Profile Picture' style='width: 160px;'");
	</script>
</div>
<h1><a href="/">Praxmatig</a></h1>
<p class="subtitle"></p>
<nav id="main-nav"><ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<section class="aboutme">
    <p>I'm Welly, an Undergrad Information Technology student at STMIK Mikroskil. Passionate in web development and like reading books.</p>
</section>

<nav id="sub-nav">
	<div class="social">
		
		<a class="facebook" href="http://www.facebook.com/wilhuang92" title="Facebook">Facebook</a>
		
		
		<a class="google" href="https://plus.google.com/106525364038404422356?rel=author" title="Google+">Google+</a>
		
		
		<a class="twitter" href="http://twitter.com/wilhn" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/wlzch" title="GitHub">GitHub</a>
		
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
<div id="banner" class="inner">
	<div class="container">
		<ul class="feed"></ul>
	</div>
	<small><a href="http://twitter.com/wilhn">wilhn</a> @ <a href="http://twitter.com">Twitter</a></small>
	<div class="loading">Loading...</div>
</div>
<script src="/javascripts/twitter.js"></script>
<script type="text/javascript">
	(function($){
		$('#banner').getTwitterFeed('wilhn', 4, false);
	})(jQuery);
</script>

			
			<div class="mid-col-container">
				<div id="content" class="inner"><article class="post" itemscope itemtype="http://schema.org/BlogPosting">
	<h1 class="title" itemprop="name">Compero: Chrome Extension Untuk Membandingkan Image Secara Bersampingan</h1>
	<div class="entry-content" itemprop="articleBody"><p>Pada postingan kali ini saya akan membahas bagaimana saya membuat compero, chrome extension pertama saya yang gunanya untuk membandingkan image-image secara berdampingan.
<img class="center" src="http://img839.imageshack.us/img839/4298/screenshotfdg.png"></p>

<p>Untuk mencobanya download <a href="https://github.com/wlzch/compero/archive/master.zip">compero</a>, setelah itu mengikuti <a href="http://developer.chrome.com/extensions/getstarted.html">tutorial</a> pada bagian &#8220;Load The Extension&#8221;</p>

<p>Cara penggunaan compero saya usahakan semudah mungkin. Tapi kalau anda memiliki ide yang lebih baik, silahkan komentar atau submit issue di <a href="https://github.com/wlzch/compero">repository</a>.</p>

<p>Setelah compero terinstall jika anda mengklik kanan pada image anda dapat melihat tulisan &#8220;Add to Compero&#8221;. Jika anda mengklik tulisan tersebut, maka secara otomatis image tersebut dimasukkan ke compero. (terima kasih kepada <a href="https://github.com/kiddo">suwandi halim</a> untuk idenya). Jika anda mengklik icon Compero di toolbar, anda telah dapat melihat image yang anda kirimkan tadi! Mudah kan?</p>

<p>Pada saat anda memasukkan image, maka image tersebut akan diresize menjadi 200px. Tapi jangan khawatir karena ada slider untuk mengatur ukuran image dari range 200px - 400px. Range ini yang dipilih karena batasan chrome yang hanya memungkinkan popup memiliki lebar 800px. Jika anda ingin menghapus image yang telah anda masukkan, anda tinggal mengklik tombol clear dan image pun akan hilang.</p>

<p>Dengan kebutuhan seperti diatas, saya akan mengajari anda bagaimana membuat chrome extension.</p>

<!-- more -->


<h3>Chrome Extension</h3>

<p>Chrome Extension digunakan untuk menambah fungsionalitas dari chrome browser. Extension dapat dibuat hanya dengan html + css + javascript. Jadi siapapun yang memahami ketiga bahasa tersebut dapat membuatnya. Semua extension dapat diinstall dari chrome <a href="https://chrome.google.com/webstore/category/extensions">webstore</a>. Setelah terinstall, akan muncul icon disebelah omnibox(tempat anda mengetikkan url).</p>

<h3>Manifest</h3>

<p>Setiap extension membutuhkan 1 file manifest.json. File ini memuat konfigurasi-konfigurasi yang akan dibaca oleh chrome pada saat penginstalan extension.</p>

<figure class='code'><figcaption><span>manifest.json</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class='json'><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="nt">&quot;manifest_version&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Image Comparer&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Compares 2 or more images&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;homepage_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://github.com/wlzch/compero.git&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.1&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;icons&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class='line'>      <span class="nt">&quot;16&quot;</span><span class="p">:</span> <span class="s2">&quot;icon16.png&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;48&quot;</span><span class="p">:</span> <span class="s2">&quot;icon48.png&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;128&quot;</span><span class="p">:</span> <span class="s2">&quot;icon128.png&quot;</span>
</span><span class='line'>    <span class="p">},</span>
</span><span class='line'>    <span class="nt">&quot;offline_enabled&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class='line'>    <span class="nt">&quot;permissions&quot;</span><span class="p">:</span> <span class="p">[</span>
</span><span class='line'>      <span class="s2">&quot;storage&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="s2">&quot;tabs&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="s2">&quot;http://*/*&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="s2">&quot;https://*/*&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="s2">&quot;contextMenus&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="s2">&quot;chrome://favicon/&quot;</span>
</span><span class='line'>    <span class="p">],</span>
</span><span class='line'>    <span class="nt">&quot;background&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class='line'>        <span class="nt">&quot;scripts&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;background.js&quot;</span><span class="p">]</span>
</span><span class='line'>    <span class="p">},</span>
</span><span class='line'>    <span class="nt">&quot;browser_action&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class='line'>      <span class="nt">&quot;default_icon&quot;</span><span class="p">:</span> <span class="s2">&quot;icon.png&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;defaul_title&quot;</span><span class="p">:</span> <span class="s2">&quot;Compero&quot;</span><span class="p">,</span>
</span><span class='line'>      <span class="nt">&quot;default_popup&quot;</span><span class="p">:</span> <span class="s2">&quot;popup.html&quot;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h4>manifest_version</h4>

<p>Mendefinisikan versi manifest yang digunakan. Versi yang dianjurkan adalah versi 2 karena versi manifest versi 1 sudah deprecated.</p>

<h4>name</h4>

<p>Nama dari extension.</p>

<h4>description</h4>

<p>Deskripsi singkat extension yang akan muncul di chrome webstore</p>

<h4>homepage_url</h4>

<p>Halaman utama dari extension.</p>

<h4>version</h4>

<p>Harus diingat bahwa versi ini beda dengan manifest_version. Versi disini mengacu kepada versi dari extension. Setiap kali extension diupload ke chrome webstore, extension harus dinaikkan.</p>

<h4>icons</h4>

<p>Icon-icon yang akan digunakan oleh chrome webstore. Dianjurkan untuk membuat icon dengan ukuran 16x16, 48x48 dan 128x128.</p>

<h4>offline_enabled</h4>

<p>Mendefinisikan apakah extension aktif jika chrome tidak terhubung dengan internet.</p>

<h4>permissions</h4>

<p>Mendefinisikan permision-permission apa saja yang diperlukan oleh extension. Anda harus mendefinisikan permission untuk fitur-fitur tertentu. Misalnya Compero membutuhkan chrome storage untuk menyimpan data, contextMenus untuk menambah menu pada saat klik kanan. Compero juga mendefinisikan permission &#8220;http://<em>/</em>&#8221;; dan &#8220;https://<em>/</em>&#8221;; yang artinya Compero dapat mengakses seluruh website yang dikunjungi user. Jika anda hanya perlu berinteraksi dengan salah satu website misalnya google.com anda dapat menggantinya dengan &#8220;https://<em>.google.com&#8221;; dan &#8220;http://</em>.google.com&#8221;;</p>

<h4>background</h4>

<p>Mendefinisikan script yang akan dijalankan dibackground. Sciprt ini akan berjalan terus sepanjang browser tidak ditutup.</p>

<h4>browser_action</h4>

<p>Mendefinisikan icon yang akan muncul di toolbar google chrome termasuk icon, title (tulisan yang muncul jika dihover), badge (tulisan diatas icon) dan popup (halaman html yang muncul jika icon diklik)</p>

<p>Untuk konfigurasi lengkap dapat dilihat di website chrome</p>

<h3>Background.js</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">images</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">getImages</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="nx">images</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">clearImages</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">images</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">addImage</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">info</span><span class="p">,</span> <span class="nx">tab</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">images</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">info</span><span class="p">.</span><span class="nx">srcUrl</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nx">chrome</span><span class="p">.</span><span class="nx">contextMenus</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;Add to Compero&quot;</span><span class="p">,</span> <span class="s2">&quot;contexts&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">],</span> <span class="s2">&quot;onclick&quot;</span><span class="o">:</span> <span class="nx">addImage</span><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>Fungsi dari background.js sangat mudah, kita akan menambahkan action pada saat image diklik kanan dengan menggunakan contextMenus API</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">chrome</span><span class="p">.</span><span class="nx">contextMenus</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span><span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;Add to Compero&quot;</span><span class="p">,</span> <span class="s2">&quot;contexts&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;image&quot;</span><span class="p">],</span> <span class="s2">&quot;onclick&quot;</span><span class="o">:</span> <span class="nx">addImage</span><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>Snippet diatas akan menambahkan action “Add to Compero” jika dilakukan klik kanan pada image (didefinisikan oleh key “contexts”). Jika action “Add to Compero” diklik, maka fungsi addImage akan dijalankan dengan mengirimkan 2 parameter kedalamnya. Parameter pertama bertipe onClickData yang berisi info mengenai elemen yang diklik. Parameter kedua bertipe Tab yang berisi informasi mengenai tab dimana action tersebut dilakukan.</p>

<p>Fungsi addImage hanyalah fungsi sederhana yang akan menambahkan url dari image yang di klik kedalam variabel images. Karena action “Add to Compero” hanya didefinisikan pada image, maka kita dapat langsung menggunaka srcUrl dari tipe onClickData untuk mengambil url dari image.</p>

<p>Selain itu, terdapat fungsi getImages dan clearImages. Fungsi-fungsi ini akan digunakan oleh halaman popup untuk mengambil dan menghapus data image.</p>

<h3>Popup.html</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="cp">&lt;!DOCTYPE html&gt;</span>
</span><span class='line'><span class="nt">&lt;html&gt;</span>
</span><span class='line'>  <span class="nt">&lt;head&gt;</span>
</span><span class='line'>    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;title&gt;</span>Compero - Image Comparer<span class="nt">&lt;/title&gt;</span>
</span><span class='line'>    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;jquery-ui.min.css&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;style.css&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;jquery.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;jquery-ui.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;popup.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/head&gt;</span>
</span><span class='line'>  <span class="nt">&lt;body&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;controls&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>        <span class="nt">&lt;div&gt;&lt;button</span> <span class="na">id=</span><span class="s">&quot;clear-images&quot;</span><span class="nt">&gt;</span>Clear<span class="nt">&lt;/button&gt;&lt;/div&gt;</span>
</span><span class='line'>        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;slider&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;images&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/div&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/body&gt;</span>
</span><span class='line'><span class="nt">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Popup.html inilah yang akan ditampilkan jika icon compero di klik. Terdapat 1 tombol untuk menghapus images, slider untuk mengatur ukuran image dan 1 div sebagai container dari image yang akan kita bandingkan.</p>

<h3>Popup.js</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">storage</span><span class="p">,</span> <span class="nx">bg</span><span class="p">,</span> <span class="nx">imageContainer</span><span class="p">;</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">getImages</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">images</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">storage</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">items</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">images</span> <span class="o">=</span> <span class="nx">items</span><span class="p">.</span><span class="nx">images</span> <span class="o">||</span> <span class="p">[];</span>
</span><span class='line'>
</span><span class='line'>        <span class="nx">callback</span><span class="p">(</span><span class="nx">images</span><span class="p">);</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">insertImage</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">src</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">image</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;img&gt;&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">image</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">image</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="nx">src</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">image</span><span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">imageContainer</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">addImageToStorage</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">src</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">getImages</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">images</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">images</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">src</span><span class="p">);</span>
</span><span class='line'>        <span class="nx">storage</span><span class="p">.</span><span class="nx">set</span><span class="p">({</span><span class="nx">images</span><span class="o">:</span> <span class="nx">images</span><span class="p">});</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">loadBackgroundImages</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">bgImages</span> <span class="o">=</span> <span class="nx">bg</span><span class="p">.</span><span class="nx">getImages</span><span class="p">();</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">bgImages</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">insertImage</span><span class="p">(</span><span class="nx">bgImages</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
</span><span class='line'>        <span class="nx">addImageToStorage</span><span class="p">(</span><span class="nx">bgImages</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="nx">bg</span><span class="p">.</span><span class="nx">clearImages</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">loadStorage</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">getImages</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">images</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">images</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="nx">insertImage</span><span class="p">(</span><span class="nx">images</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">loadImages</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">loadBackgroundImages</span><span class="p">();</span>
</span><span class='line'>    <span class="nx">loadStorage</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">onMessageListener</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">request</span><span class="p">,</span> <span class="nx">sender</span><span class="p">,</span> <span class="nx">sendResponse</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">insertImage</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">src</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">addImageToStorage</span><span class="p">(</span><span class="nx">request</span><span class="p">.</span><span class="nx">src</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="kd">var</span> <span class="nx">clearClicked</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">storage</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span>
</span><span class='line'>    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.image&#39;</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;DOMContentLoaded&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">bg</span> <span class="o">=</span> <span class="nx">chrome</span><span class="p">.</span><span class="nx">extension</span><span class="p">.</span><span class="nx">getBackgroundPage</span><span class="p">();</span>
</span><span class='line'>    <span class="nx">storage</span> <span class="o">=</span> <span class="nx">chrome</span><span class="p">.</span><span class="nx">storage</span><span class="p">.</span><span class="nx">local</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">imageContainer</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#images&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">slider</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#slider&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#clear-images&#39;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="nx">clearClicked</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">slider</span><span class="p">.</span><span class="nx">slider</span><span class="p">({</span>
</span><span class='line'>        <span class="nx">min</span><span class="o">:</span> <span class="mi">200</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">max</span><span class="o">:</span> <span class="mi">800</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">step</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">value</span><span class="o">:</span> <span class="mi">200</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">slide</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">ui</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="kd">var</span> <span class="nx">images</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.image&#39;</span><span class="p">);</span>
</span><span class='line'>            <span class="nx">images</span><span class="p">.</span><span class="nx">width</span><span class="p">(</span><span class="nx">slider</span><span class="p">.</span><span class="nx">slider</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;px&quot;</span><span class="p">);</span>
</span><span class='line'>            <span class="nx">images</span><span class="p">.</span><span class="nx">height</span><span class="p">(</span><span class="nx">slider</span><span class="p">.</span><span class="nx">slider</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;px&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'>    <span class="nx">loadImages</span><span class="p">();</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>Popup.js merupakan script yang paling penting untuk compero. Akan kita bahas fungsinya satu-persatu.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;DOMContentLoaded&#39;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">bg</span> <span class="o">=</span> <span class="nx">chrome</span><span class="p">.</span><span class="nx">extension</span><span class="p">.</span><span class="nx">getBackgroundPage</span><span class="p">();</span>
</span><span class='line'>    <span class="nx">storage</span> <span class="o">=</span> <span class="nx">chrome</span><span class="p">.</span><span class="nx">storage</span><span class="p">.</span><span class="nx">local</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">imageContainer</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#images&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">slider</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#slider&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;#clear-images&#39;</span><span class="p">).</span><span class="nx">click</span><span class="p">(</span><span class="nx">clearClicked</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">slider</span><span class="p">.</span><span class="nx">slider</span><span class="p">({</span>
</span><span class='line'>        <span class="nx">min</span><span class="o">:</span> <span class="mi">200</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">max</span><span class="o">:</span> <span class="mi">800</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">step</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">value</span><span class="o">:</span> <span class="mi">200</span><span class="p">,</span>
</span><span class='line'>        <span class="nx">slide</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">ui</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="kd">var</span> <span class="nx">images</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.image&#39;</span><span class="p">);</span>
</span><span class='line'>            <span class="nx">images</span><span class="p">.</span><span class="nx">width</span><span class="p">(</span><span class="nx">slider</span><span class="p">.</span><span class="nx">slider</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;px&quot;</span><span class="p">);</span>
</span><span class='line'>            <span class="nx">images</span><span class="p">.</span><span class="nx">height</span><span class="p">(</span><span class="nx">slider</span><span class="p">.</span><span class="nx">slider</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;px&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'>    <span class="nx">loadImages</span><span class="p">();</span>
</span><span class='line'><span class="p">});</span>
</span></code></pre></td></tr></table></div></figure>


<p>Pada snippet diatas, kita akan melisten pada event DomContentLoaded. Event ini akan terjadi ketika terjadi action klik pada icon compero dan DOM dari halaman tersebut telah terbentuk.</p>

<p>Pada line 1, variabel bg di set sebagai background page yang telah kita definisikan sebelumnya dengan method getBackgroundPage. Dengan adanya variabel bg, kita dapat mengakses setiap property dan method yang ada pada background page termasuk method getImages dan clearImages yang nantinya akan kita gunakan.</p>

<p>Pada line 2, variabel storage di set sebagai chrome storage. Kita akan menggunakannya untuk menyimpan dan mengambil url-url dari gambar yang telah diadd sebelumnya.</p>

<p>Setiap kali icon compero di klik, kita akan memanggil fungsi loadImages dimana fungsi – fungsi bantuan lainnya.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">insertImage</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">src</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">image</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;img&gt;&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">image</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;image&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">image</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="nx">src</span><span class="p">);</span>
</span><span class='line'>    <span class="nx">image</span><span class="p">.</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">imageContainer</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>insertImage berfungsi untuk membuat tag image baru dan memasukkannya ke DOM.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">getImages</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">images</span><span class="p">;</span>
</span><span class='line'>    <span class="nx">storage</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;images&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">items</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">images</span> <span class="o">=</span> <span class="nx">items</span><span class="p">.</span><span class="nx">images</span> <span class="o">||</span> <span class="p">[];</span>
</span><span class='line'>
</span><span class='line'>        <span class="nx">callback</span><span class="p">(</span><span class="nx">images</span><span class="p">);</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>getImages berfungsi untuk mengambil url image-image yang telah disimpan. getImages menerima 1 parameter yaitu callback yaitu berupa fungsi yang akan dijalankan setelah image-image terload. fungsi callback akan diberikan 1 parameter berupa image-image yang terload tadi. Hal ini dikarenakan storage bersifat asynchronous (non-blocking). Singkatnya, jika biasanya program itu jalan baris-perbaris secara berurutan, storage.get akan menjalankan fungsinya dan langsung melanjutkan program bahkan sebelum fungsinya mengembalikan hasil. Setelah fungsi tersebut siap dijalankan barulah parameter yang berupa fungsi lain akan dijalankan.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">addImageToStorage</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">src</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">getImages</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">images</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">images</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">src</span><span class="p">);</span>
</span><span class='line'>        <span class="nx">storage</span><span class="p">.</span><span class="nx">set</span><span class="p">({</span><span class="nx">images</span><span class="o">:</span> <span class="nx">images</span><span class="p">});</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>addImageToStorage berfungsi untuk menambahkan url image ke storage.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">loadBackgroundImages</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">bgImages</span> <span class="o">=</span> <span class="nx">bg</span><span class="p">.</span><span class="nx">getImages</span><span class="p">();</span>
</span><span class='line'>    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">bgImages</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nx">insertImage</span><span class="p">(</span><span class="nx">bgImages</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
</span><span class='line'>        <span class="nx">addImageToStorage</span><span class="p">(</span><span class="nx">bgImages</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="nx">bg</span><span class="p">.</span><span class="nx">clearImages</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>loadBackgroundImages berfungsi mengambil image-image yang tadinya telah diadd di background page. Dapat dilihat dari method bg.getImages(). Setiap image yang tadinya telah diadd akan dimasukkan ke storage dan kemudian di masukkan ke DOM. Setelah semuanya dimasukkan, url-url yang ada dibackground page akan dihapus sehingga tidak terjadi duplikasi jika fungsi ini dipanggil kembali.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">loadStorage</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">getImages</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">images</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">images</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="nx">insertImage</span><span class="p">(</span><span class="nx">images</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>loadStorage berfungsi untuk mengambil image-image yang terdapat di storage.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">clearClicked</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">storage</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span>
</span><span class='line'>    <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.image&#39;</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>kemudian jika tombol clear di klik, kita akan membersihkan storage dan menghapus semua image dari DOM.</p>

<p>Begitulah code dari compero. Mudah kan? Jadi, cobalah dibuat. Hitung-hitung untuk membunuh waktu dan menambah pengetahuan.</p>

<p>Silahkan dikomentari jika ada ide atau masalah.</p>
</div>

</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	<a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
	
	
	<a class="addthis_button_tweet"></a>
	
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>



<section id="comment">
    <h1 class="title">Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</section>
</div>
			</div>
			<footer id="footer" class="inner"><p>
  Copyright &copy; 2013 - wil huang -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
			<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'praxmatig';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://praxmatig.herokuapp.com/blog/2013/03/01/compero-chrome-extension-untuk-membandingkan-image-secara-bersampingan/';
        var disqus_url = 'http://praxmatig.herokuapp.com/blog/2013/03/01/compero-chrome-extension-untuk-membandingkan-image-secara-bersampingan/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-38929872-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>




		</div>
	</div>
</body>
</html>
